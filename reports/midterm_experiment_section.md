# 中期报告实验章节草稿（可直接并入正文）

## 4. 实验设计与实现细节

### 4.1 实验目标
本阶段目标是建立可复现、可统计的多模态实体对齐基线，并在跨语言 DBP15K (`zh_en`, `ja_en`, `fr_en`) 上完成稳定性验证，为后续 TMMEA-DA 方法改进提供参照系。

### 4.2 基线与环境
- 基线模型：MEAformer（官方开源实现）
- 运行环境：
  - 主控制环境：`bysj-main`（Python 3.10）
  - 基线独立环境：`bysj-meaformer`（Python 3.9，避免依赖冲突）
- 硬件：RTX 3060 Laptop GPU（6GB）
- 配置策略：采用 RTX3060 安全配置（缩小 hidden/batch）以保证稳定可运行。

### 4.3 数据与预处理
- 数据集：DBP15K，语言对 `zh_en`、`ja_en`、`fr_en`
- 切分：`0_3`（训练比例 0.3）
- 预处理脚本：
  - `scripts/preprocess_dbp15k.py`
  - `scripts/prepare_meaformer_data.py`
- 留痕产物包括：`split_manifest.json`、`data_stats.csv`、`artifact_manifest.json`、`preprocess.log`。

### 4.4 评测与统计口径
- 指标：Hits@1、Hits@10、MRR（双向 l2r/r2l）
- 稳定性：每语种 5 个随机种子（42, 3407, 2026, 7, 123）
- 汇总方式：对每语种运行结果计算 mean ± std
- 跨图谱阶段：FBDB15K / FBYG15K 已完成 5 seeds 验证
- 结果文件：
  - 明细：`reports/meaformer_results_summary.csv`
  - 汇总：`reports/meaformer_results_mean_std.csv`

## 5. 实验结果与分析

### 5.1 跨语言结果（5-seed mean ± std）

| lang_pair | num_runs | l2r Hits@1 | l2r Hits@10 | l2r MRR | r2l Hits@1 | r2l Hits@10 | r2l MRR |
|---|---:|---:|---:|---:|---:|---:|---:|
| zh_en | 5 | 0.6426 ± 0.0037 | 0.8757 ± 0.0021 | 0.7224 ± 0.0031 | 0.6375 ± 0.0034 | 0.8681 ± 0.0022 | 0.7164 ± 0.0034 |
| ja_en | 5 | 0.5994 ± 0.0022 | 0.8513 ± 0.0040 | 0.6838 ± 0.0023 | 0.5984 ± 0.0026 | 0.8518 ± 0.0033 | 0.6830 ± 0.0028 |
| fr_en | 5 | 0.5408 ± 0.0049 | 0.8473 ± 0.0030 | 0.6424 ± 0.0045 | 0.5392 ± 0.0029 | 0.8509 ± 0.0039 | 0.6418 ± 0.0031 |

### 5.2 阶段性观察
1. `zh_en` 整体表现最佳，`ja_en` 次之，`fr_en` 相对较低，显示不同语言对存在迁移难度差异。  
2. 5-seed 下多数指标标准差低于 0.005，说明基线在当前设置下具有较稳定的复现性。  
3. 受限于单卡 6GB 显存，本阶段采用 1 epoch 安全配置，结果用于“可运行与可统计”的阶段性验证，而非最终 SOTA 对比。

### 5.3 跨图谱结果（5 seeds）

| dataset | num_runs | l2r Hits@1 | l2r Hits@10 | l2r MRR | r2l Hits@1 | r2l Hits@10 | r2l MRR |
|---|---:|---:|---:|---:|---:|---:|---:|
| FBDB15K | 5 | 0.0986 ± 0.0020 | 0.3243 ± 0.0048 | 0.1730 ± 0.0023 | 0.1058 ± 0.0028 | 0.3326 ± 0.0052 | 0.1810 ± 0.0027 |
| FBYG15K | 5 | 0.0857 ± 0.0017 | 0.2756 ± 0.0099 | 0.1498 ± 0.0036 | 0.0894 ± 0.0025 | 0.2759 ± 0.0102 | 0.1524 ± 0.0046 |

该部分验证了跨图谱数据链路、训练流程与评测口径可稳定复现；下一步将扩展训练轮次并开展方法消融。

### 5.4 风险与限制
- 已接入并同步官方 MEAformer 数据包（含跨图谱所需特征）；当前风险不在“数据真伪”，而在“训练预算与方法验证轮次”。
- 跨图谱已完成 5-seed 结果，但仍需提升训练轮次与开展正式对比实验形成最终结论。
- 当前训练轮数较小，后续需扩展正式训练预算并复核稳定性结论是否保持。

## 6. 下一阶段计划
1. 在官方数据与统一口径下，扩展训练轮次，重跑 DBP15K / FBDB15K / FBYG15K 正式配置。  
2. TMMEA-DA MVP 已完成 zh_en 5-seed 与同预算对比；下一步扩展到 ja_en / fr_en 与跨图谱设定。  
3. 在当前 `domain_align` MVP 基础上继续加入多源选择与缺失感知融合，开展模块化消融实验。
